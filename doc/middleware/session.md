# 在中间件中对session做检查
egg是自带session的中间件的（其实是基于koa的），用起来也非常简单。
最近写了一个中间件，判断session来获取用户名，如果不存在，返回401。
然后发现死活拿不到session，经过排查，发现自己犯了一个低级错误：
添加中间件的时候，当时是随意添加的。。。
结论：
添加中间件的时候，如果要用session，一定得保证添加在session中间件之后，否则，是没有session的。